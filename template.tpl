___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Hotjar User Attributes",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAIAAABEtEjdAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYTg3MzFiOSwgMjAyMS8wOS8wOS0wMDozNzozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0xMS0yNlQxNTowMzoyMCswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMTEtMjZUMjA6NDA6NTArMDE6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMTEtMjZUMjA6NDA6NTArMDE6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDZhMTQ5NGItNDQzNi03YTRjLTkxODItY2IxMDQwMjE3OGFkIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6M2VlNzMxYmQtYWQ0Ny00NDQxLTk2YTMtM2I0ZWI0OThhMzRlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MGJlODFlMGEtMzIwZS01ZjRiLWIyODUtMTI0ODQyZDBkN2E0Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowYmU4MWUwYS0zMjBlLTVmNGItYjI4NS0xMjQ4NDJkMGQ3YTQiIHN0RXZ0OndoZW49IjIwMjEtMTEtMjZUMTU6MDM6MjArMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMy4wIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NmExNDk0Yi00NDM2LTdhNGMtOTE4Mi1jYjEwNDAyMTc4YWQiIHN0RXZ0OndoZW49IjIwMjEtMTEtMjZUMjA6NDA6NTArMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMy4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6y4kvwAAAX1klEQVR4nO3dvVNkx7nA4V6VQ1wXZzgyrtLEmsmX0ijkJt4NUGogF4JQJCwJCmFRzuBUBLtOLuGi4g8Ax6jKOBKZx+XJ9wb4Q/ZqV3PmfPQ573mev+Ctsvbnprunz5O3TxMAwXyUewAA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xFWZh3vvDRCeuFNEjJW7PRl6QNwpIsbXl67/mHsCqJ24M7fROPcEVZhN081V7iGgduLO3GI8KaPs9IO4M7cYl9xvvss9ATRB3Jnbym9yT1CF26vcE0ATxJ25xThNdQmSfhB35hZgz92GO70h7swtwJ7797e5J4CGiDt9cven3BNAQ8Sd+YzGuSeoggfc6Q1xp0/sudMb4s58Apym+lwqfSLuzCfAaapLkPSJuNMbNtzpE3GnNx7+knsCaI64M58An+n4+zT3BNAccac3/IKJPhF3gIDEnd5wFZI+EXfmE+Drqa5C0ifiznxivPcLvSHuAAGJO0BA4k4/2HCnZ8SdfnBVhp4Rd4CAxB0gIHEHCOgXuQegI3Y+yz1BOfbc6Zknb5/mHgGAqtmWAQhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdICBxBwhI3AECEneAgMQdIKD/B3PnIyuCJnyyAAAAAElFTkSuQmCC"
  },
  "description": "Unofficial Template for Hotjar User Attributes collection. This Template is not made by Hotjar, and Hotjar do not  provide any support in using this Template.",
  "categories": [
    "ANALYTICS",
    "UTILITY",
    "TAG_MANAGEMENT"
  ],
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "GROUP",
    "name": "userIdGroup",
    "displayName": "Attribute Collection Setting",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "RADIO",
        "name": "userIdSetting",
        "radioItems": [
          {
            "value": "only",
            "displayValue": "Only collect Attributes when User ID exist",
            "help": "If selected, User Attributes will be collected \u003cstrong\u003eonly for Users with User ID\u003c/strong\u003e. \u003cbr /\u003e\u003cbr /\u003e\nIf Attributes are missing on some part of the site, but User ID is available, User ID will be collected."
          },
          {
            "value": "all",
            "displayValue": "All Users",
            "help": "If selected, User Attributes (if available) will be collected \u003cstrong\u003efor all Users\u003c/strong\u003e, whether they have a User ID or not.",
            "subParams": []
          }
        ],
        "simpleValueType": true,
        "help": "Choose if \u003cstrong\u003eUser Attributes\u003c/strong\u003e should be collected only for users with a \u003cstrong\u003eUser ID\u003c/strong\u003e.",
        "valueValidators": [],
        "defaultValue": "only"
      },
      {
        "type": "TEXT",
        "name": "userIdOnly",
        "displayName": "User ID",
        "simpleValueType": true,
        "alwaysInSummary": true,
        "help": "You must input your own User ID with this setting.",
        "enablingConditions": [
          {
            "paramName": "userIdSetting",
            "paramValue": "only",
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY",
            "errorMessage": "The User ID value must not be empty."
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "userIdAll",
        "displayName": "User ID",
        "simpleValueType": true,
        "alwaysInSummary": true,
        "help": "Input your own User ID (recommended). Do not collect PII (Personal Identifiable Information) as User Attributes unless you have a User ID.",
        "notSetText": "Do not collect PII as User Attributes unless you have a User ID.",
        "enablingConditions": [
          {
            "paramName": "userIdSetting",
            "paramValue": "all",
            "type": "EQUALS"
          }
        ]
      }
    ]
  },
  {
    "type": "LABEL",
    "name": "userAttributesWarning",
    "displayName": "\u003cstrong\u003eDo not collect PII as User Attributes\u003c/strong\u003e unless you have a User ID. See \u003ca href\u003d\"https://help.hotjar.com/hc/en-us/articles/360061197694-User-Attributes-FAQs#sent_pii\" target\u003d\"_blank\"\u003eHotjar User ID FAQ\u003c/a\u003e.",
    "enablingConditions": [
      {
        "paramName": "userIdSetting",
        "paramValue": "all",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "LABEL",
    "name": "userAttributesInfo",
    "displayName": "\u003cstrong\u003eUser ID field must be filled out\u003c/strong\u003e with this setting.",
    "enablingConditions": [
      {
        "paramName": "userIdSetting",
        "paramValue": "only",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "userAttributes",
    "displayName": "User Attributes",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "User Attribute Name",
        "name": "userAttributeName",
        "type": "TEXT",
        "isUnique": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "defaultValue": "",
        "displayName": "User Attribute Value",
        "name": "userAttributeValue",
        "type": "SELECT",
        "macrosInSelect": true
      }
    ],
    "alwaysInSummary": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY",
        "errorMessage": "User Attributes must not be empty."
      }
    ],
    "newRowButtonText": "Add User Attribute",
    "help": "See Hotjar help text \u003ca href\u003d\"https://help.hotjar.com/hc/en-us/articles/4402892526487\" target\u003d\"_blank\"\u003eWhat are User Attributes?\u003c/a\u003e."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const JSON = require('JSON');
const makeTableMap = require('makeTableMap');
const setInWindow = require('setInWindow');
const createArgumentsQueue = require('createArgumentsQueue');
const hj = createArgumentsQueue('hj', 'hj.q');

const userIdSetting = data.userIdSetting;
const userId = data.userIdOnly ? data.userIdOnly : data.userIdAll || null;
const userAttributes = data.userAttributes ? makeTableMap(data.userAttributes, 'userAttributeName', 'userAttributeValue'): {};

function isEmpty(obj) {
  return JSON.stringify(obj) === '{}';
}

if((!isEmpty(userAttributes) && userIdSetting === 'all') || (userIdSetting === 'only' && userId)) { 
  hj('identify', userId, userAttributes);
  data.gtmOnSuccess();
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "hj"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "hj.q"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 11/4/2021, 8:23:27 PM


